(()=>{"use strict";var e={800:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isString=t.isNumber=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var n,o,r,s=a(926);function i(e){return void 0!==e}(r=t.MessageFormat||(t.MessageFormat={})).file="file",r.bundle="bundle",r.both="both",(o=t.BundleFormat||(t.BundleFormat={})).standalone="standalone",o.languagePack="languagePack",function(e){e.is=function(e){var t=e;return t&&i(t.key)&&i(t.comment)}}(n||(n={})),t.isDefined=i;var l=Object.prototype.toString;function c(e,a){return t.isPseudo&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===a.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var n=t[0],o=a[n],r=e;return"string"==typeof o?r=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(r=String(o)),r}))}t.isNumber=function(e){return"[object Number]"===l.call(e)},t.isString=function(e){return"[object String]"===l.call(e)},t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=c,t.localize=function(e,t){for(var a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];return c(t,a)},t.loadMessageBundle=function(e){return(0,s.default)().loadMessageBundle(e)},t.config=function(e){return(0,s.default)().config(e)}},926:(e,t)=>{var a;function n(){if(void 0===a)throw new Error("No runtime abstraction layer installed");return a}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");a=e}}(n||(n={})),t.default=n},472:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.BundleFormat=t.MessageFormat=void 0;var n,o,r=a(622),s=a(747),i=a(926),l=a(800),c=a(800);function u(e){return JSON.parse(s.readFileSync(e,"utf8"))}function d(e){return function(t,a){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return(0,l.isNumber)(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: ".concat(new Error("").stack)):(0,l.format)(e[t],n):(0,l.isString)(a)?(console.warn("Message ".concat(a," didn't get externalized correctly.")),(0,l.format)(a,n)):void console.error("Broken localize call found. Stacktrace is\n: ".concat(new Error("").stack))}}function g(e,t){return n[e]=t,t}function f(e){try{return function(e){var t=u(r.join(e,"nls.metadata.json")),a=Object.create(null);for(var n in t){var o=t[n];a[n]=o.messages}return a}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function m(e,t){var a;if(!0===o.languagePackSupport&&void 0!==o.cacheRoot&&void 0!==o.languagePackId&&void 0!==o.translationsConfigFile&&void 0!==o.translationsConfig)try{a=function(e,t){var a,n,i,c=r.join(o.cacheRoot,"".concat(e.id,"-").concat(e.hash,".json")),d=!1,g=!1;try{return a=JSON.parse(s.readFileSync(c,{encoding:"utf8",flag:"r"})),n=c,i=new Date,s.utimes(n,i,i,(function(){})),a}catch(e){if("ENOENT"===e.code)g=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: ".concat(e.message,".")),s.unlink(c,(function(e){e&&console.error("Deleting corrupted bundle ".concat(c," failed."))})),d=!0}}if(!(a=function(e,t){var a=o.translationsConfig[e.id];if(a){var n=u(a).contents,s=u(r.join(t,"nls.metadata.json")),i=Object.create(null);for(var c in s){var d=s[c],g=n["".concat(e.outDir,"/").concat(c)];if(g){for(var f=[],m=0;m<d.keys.length;m++){var p=d.keys[m],b=g[(0,l.isString)(p)?p:p.key];void 0===b&&(b=d.messages[m]),f.push(b)}i[c]=f}else i[c]=d.messages}return i}}(e,t))||d)return a;if(g)try{s.writeFileSync(c,JSON.stringify(a),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return a;throw e}return a}(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!a){if(o.languagePackSupport)return f(t);var n=function(e){for(var t=o.language;t;){var a=r.join(e,"nls.bundle.".concat(t,".json"));if(s.existsSync(a))return a;var n=t.lastIndexOf("-");t=n>0?t.substring(0,n):void 0}if(void 0===t&&(a=r.join(e,"nls.bundle.json"),s.existsSync(a)))return a}(t);if(n)try{return u(n)}catch(e){console.log("Loading in the box message bundle failed.",e)}a=f(t)}return a}function p(e){if(!e)return l.localize;var t=r.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),o.messageFormat===l.MessageFormat.both||o.messageFormat===l.MessageFormat.bundle){var a=function(e){for(var t,a=r.dirname(e);t=r.join(a,"nls.metadata.header.json"),!s.existsSync(t);){var n=r.dirname(a);if(n===a){t=void 0;break}a=n}return t}(e);if(a){var i=r.dirname(a),c=n[i];if(void 0===c)try{var f=JSON.parse(s.readFileSync(a,"utf8"));try{var p=m(f,i);c=g(i,p?{header:f,nlsBundle:p}:null)}catch(e){console.error("Failed to load nls bundle",e),c=g(i,null)}}catch(e){console.error("Failed to read header file",e),c=g(i,null)}if(c){var b=e.substr(i.length+1).replace(/\\/g,"/"),v=c.nlsBundle[b];return void 0===v?(console.error("Messages for file ".concat(e," not found. See console for details.")),function(){return"Messages not found."}):d(v)}}}if(o.messageFormat===l.MessageFormat.both||o.messageFormat===l.MessageFormat.file)try{var h=u(function(e){var t;if(o.cacheLanguageResolution&&t)t=t;else{if(l.isPseudo||!o.language)t=".nls.json";else for(var a=o.language;a;){var n=".nls."+a+".json";if(s.existsSync(e+n)){t=n;break}var r=a.lastIndexOf("-");r>0?a=a.substring(0,r):(t=".nls.json",a=null)}o.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(h)?d(h):(0,l.isDefined)(h.messages)&&(0,l.isDefined)(h.keys)?d(h.messages):(console.error("String bundle '".concat(e,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file ".concat(e)),function(){return"Failed to load message bundle. See console for details."}}function b(e){return e&&((0,l.isString)(e.locale)&&(o.locale=e.locale.toLowerCase(),o.language=o.locale,n=Object.create(null)),void 0!==e.messageFormat&&(o.messageFormat=e.messageFormat),e.bundleFormat===l.BundleFormat.standalone&&!0===o.languagePackSupport&&(o.languagePackSupport=!1)),(0,l.setPseudo)("pseudo"===o.locale),p}Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return c.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return c.BundleFormat}}),function(){if(o={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:l.MessageFormat.bundle},(0,l.isString)(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var a=e.availableLanguages["*"];(0,l.isString)(a)&&(t=a)}if((0,l.isString)(e.locale)&&(o.locale=e.locale.toLowerCase()),void 0===t?o.language=o.locale:"en"!==t&&(o.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(o.languagePackSupport=e._languagePackSupport),(0,l.isString)(e._cacheRoot)&&(o.cacheRoot=e._cacheRoot),(0,l.isString)(e._languagePackId)&&(o.languagePackId=e._languagePackId),(0,l.isString)(e._translationsConfigFile)){o.translationsConfigFile=e._translationsConfigFile;try{o.translationsConfig=u(o.translationsConfigFile)}catch(t){if(e._corruptedFile){var i=r.dirname(e._corruptedFile);s.exists(i,(function(t){t&&s.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}(0,l.setPseudo)("pseudo"===o.locale),n=Object.create(null)}(),t.loadMessageBundle=p,t.config=b,i.default.install(Object.freeze({loadMessageBundle:p,config:b}))},747:e=>{e.exports=require("fs")},631:e=>{e.exports=require("net")},622:e=>{e.exports=require("path")},549:e=>{e.exports=require("vscode")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=a(747),o=a(631),r=a(549),s=a(472).loadMessageBundle(a(622).join(__dirname,"extension.ts")),i={disabled:s(0,null),always:s(1,null),smart:s(2,null),onlyWithFlag:s(3,null)},l={disabled:s(4,null),always:s(5,null),smart:s(6,null),onlyWithFlag:s(7,null)},c={disabled:s(8,null),always:s(9,null),smart:s(10,null),onlyWithFlag:s(11,null)},u=s(12,null),d=s(13,null),g=s(14,null),f=s(15,null),m=s(16,null),p="extension.node-debug.toggleAutoAttach",b="jsDebugIpcState",v="debug.javascript",h="autoAttachFilter",w=new Set(["autoAttachSmartPattern",h].map((e=>`debug.javascript.${e}`)));let y,S,F,k=!1;async function j(e,t){const a=r.workspace.getConfiguration(v);var n;const o=(t=t||((n=a.inspect(h))?n.workspaceFolderValue?r.ConfigurationTarget.WorkspaceFolder:n.workspaceValue?r.ConfigurationTarget.Workspace:(n.globalValue,r.ConfigurationTarget.Global):r.ConfigurationTarget.Global))===r.ConfigurationTarget.Global,s=r.window.createQuickPick(),i=x(),m=["always","smart","onlyWithFlag","disabled"].map((e=>({state:e,label:l[e],description:c[e],alwaysShow:!0})));"disabled"!==i&&m.unshift({setTempDisabled:!k,label:k?f:g,alwaysShow:!0}),s.items=m,s.activeItems=k?[m[0]]:s.items.filter((e=>"state"in e&&e.state===i)),s.title=o?d:u,s.buttons=[{iconPath:new r.ThemeIcon(o?"folder":"globe"),tooltip:o?u:d}],s.show();let p=await new Promise((e=>{s.onDidAccept((()=>e(s.selectedItems[0]))),s.onDidHide((()=>e(void 0))),s.onDidTriggerButton((()=>{e({scope:o?r.ConfigurationTarget.Workspace:r.ConfigurationTarget.Global})}))}));if(s.dispose(),p){if("scope"in p)return await j(e,p.scope);"state"in p&&(p.state!==i?a.update(h,p.state,t):k&&(p={setTempDisabled:!1})),"setTempDisabled"in p&&(B(e,i,!0),k=p.setTempDisabled,p.setTempDisabled?await O():await P(e),B(e,i,!1))}}function x(){return r.workspace.getConfiguration(v).get(h)??"disabled"}async function P(e){const t=await async function(e){const t=e.workspaceState.get(b),a=r.extensions.getExtension("ms-vscode.js-debug-nightly")?.extensionPath||r.extensions.getExtension("ms-vscode.js-debug")?.extensionPath,n=function(){const e={},t=r.workspace.getConfiguration(v);for(const a of w)e[a]=t.get(a);return JSON.stringify(e)}();if(t?.jsDebugPath===a&&t?.settingsValue===n)return t.ipcAddress;const o=await r.commands.executeCommand("extension.js-debug.setAutoAttachVariables",t?.ipcAddress);if(!o)return;const s=o.ipcAddress;return await e.workspaceState.update(b,{ipcAddress:s,jsDebugPath:a,settingsValue:n}),s}(e);if(t)return F=C(t).catch((e=>{console.error(e)})),await F}e.activate=function(e){y=Promise.resolve({context:e,state:null}),e.subscriptions.push(r.commands.registerCommand(p,j.bind(null,e))),e.subscriptions.push(r.workspace.onDidChangeConfiguration((e=>{(e.affectsConfiguration(`debug.javascript.${h}`)||[...w].some((t=>e.affectsConfiguration(t))))&&(D("disabled"),D(x()))}))),D(x())},e.deactivate=async function(){await O()};const C=async e=>{try{return await _(e)}catch(a){return await t.promises.unlink(e).catch((()=>{})),await _(e)}},_=e=>new Promise(((t,a)=>{const n=(0,o.createServer)((e=>{const t=[];e.on("data",(async a=>{if(0===a[a.length-1]){t.push(a.slice(0,-1));try{await r.commands.executeCommand("extension.js-debug.autoAttachToProcess",JSON.parse(Buffer.concat(t).toString())),e.write(Buffer.from([0]))}catch(t){e.write(Buffer.from([1])),console.error(t)}}else t.push(a)}))})).on("error",a).listen(e,(()=>t(n)))}));async function O(){const e=await F;e&&await new Promise((t=>e.close(t)))}const M={async disabled(e){await async function(e){(F||await e.workspaceState.get(b))&&(await e.workspaceState.update(b,void 0),await r.commands.executeCommand("extension.js-debug.clearAutoAttachVariables"),await O())}(e)},async onlyWithFlag(e){await P(e)},async smart(e){await P(e)},async always(e){await P(e)}};function B(e,t,a=!1){if("disabled"===t&&!a)return void S?.hide();S||(S=r.window.createStatusBarItem("status.debug.autoAttach",r.StatusBarAlignment.Left),S.name=s(17,null),S.command=p,S.tooltip=s(18,null),e.subscriptions.push(S));let n=a?"$(loading) ":"";n+=k?m:i[t],S.text=n,S.show()}function D(e){y=y.then((async({context:t,state:a})=>e===a?{context:t,state:a}:(null!==a&&B(t,a,!0),await M[e](t),k=!1,B(t,e,!1),{context:t,state:e})))}})();var o=exports;for(var r in n)o[r]=n[r];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/74b1f979648cc44d385a2286793c226e611f59e7/extensions/debug-auto-launch/dist/extension.js.map