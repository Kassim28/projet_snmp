(()=>{"use strict";var e={800:(e,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.config=n.loadMessageBundle=n.localize=n.format=n.setPseudo=n.isPseudo=n.isString=n.isNumber=n.isDefined=n.BundleFormat=n.MessageFormat=void 0;var o,t,a,s=r(1926);function i(e){return void 0!==e}(a=n.MessageFormat||(n.MessageFormat={})).file="file",a.bundle="bundle",a.both="both",(t=n.BundleFormat||(n.BundleFormat={})).standalone="standalone",t.languagePack="languagePack",function(e){e.is=function(e){var n=e;return n&&i(n.key)&&i(n.comment)}}(o||(o={})),n.isDefined=i;var l=Object.prototype.toString;function c(e,r){return n.isPseudo&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===r.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){var o=n[0],t=r[o],a=e;return"string"==typeof t?a=t:"number"!=typeof t&&"boolean"!=typeof t&&null!=t||(a=String(t)),a}))}n.isNumber=function(e){return"[object Number]"===l.call(e)},n.isString=function(e){return"[object String]"===l.call(e)},n.isPseudo=!1,n.setPseudo=function(e){n.isPseudo=e},n.format=c,n.localize=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return c(n,r)},n.loadMessageBundle=function(e){return(0,s.default)().loadMessageBundle(e)},n.config=function(e){return(0,s.default)().config(e)}},1926:(e,n)=>{var r;function o(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(o||(o={})),n.default=o},8472:(e,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.config=n.loadMessageBundle=n.BundleFormat=n.MessageFormat=void 0;var o,t,a=r(5622),s=r(5747),i=r(1926),l=r(800),c=r(800);function u(e){return JSON.parse(s.readFileSync(e,"utf8"))}function d(e){return function(n,r){for(var o=[],t=2;t<arguments.length;t++)o[t-2]=arguments[t];return(0,l.isNumber)(n)?n>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: ".concat(new Error("").stack)):(0,l.format)(e[n],o):(0,l.isString)(r)?(console.warn("Message ".concat(r," didn't get externalized correctly.")),(0,l.format)(r,o)):void console.error("Broken localize call found. Stacktrace is\n: ".concat(new Error("").stack))}}function f(e,n){return o[e]=n,n}function g(e){try{return function(e){var n=u(a.join(e,"nls.metadata.json")),r=Object.create(null);for(var o in n){var t=n[o];r[o]=t.messages}return r}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function v(e,n){var r;if(!0===t.languagePackSupport&&void 0!==t.cacheRoot&&void 0!==t.languagePackId&&void 0!==t.translationsConfigFile&&void 0!==t.translationsConfig)try{r=function(e,n){var r,o,i,c=a.join(t.cacheRoot,"".concat(e.id,"-").concat(e.hash,".json")),d=!1,f=!1;try{return r=JSON.parse(s.readFileSync(c,{encoding:"utf8",flag:"r"})),o=c,i=new Date,s.utimes(o,i,i,(function(){})),r}catch(e){if("ENOENT"===e.code)f=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: ".concat(e.message,".")),s.unlink(c,(function(e){e&&console.error("Deleting corrupted bundle ".concat(c," failed."))})),d=!0}}if(!(r=function(e,n){var r=t.translationsConfig[e.id];if(r){var o=u(r).contents,s=u(a.join(n,"nls.metadata.json")),i=Object.create(null);for(var c in s){var d=s[c],f=o["".concat(e.outDir,"/").concat(c)];if(f){for(var g=[],v=0;v<d.keys.length;v++){var m=d.keys[v],p=f[(0,l.isString)(m)?m:m.key];void 0===p&&(p=d.messages[v]),g.push(p)}i[c]=g}else i[c]=d.messages}return i}}(e,n))||d)return r;if(f)try{s.writeFileSync(c,JSON.stringify(r),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return r;throw e}return r}(e,n)}catch(e){console.log("Load or create bundle failed ",e)}if(!r){if(t.languagePackSupport)return g(n);var o=function(e){for(var n=t.language;n;){var r=a.join(e,"nls.bundle.".concat(n,".json"));if(s.existsSync(r))return r;var o=n.lastIndexOf("-");n=o>0?n.substring(0,o):void 0}if(void 0===n&&(r=a.join(e,"nls.bundle.json"),s.existsSync(r)))return r}(n);if(o)try{return u(o)}catch(e){console.log("Loading in the box message bundle failed.",e)}r=g(n)}return r}function m(e){if(!e)return l.localize;var n=a.extname(e);if(n&&(e=e.substr(0,e.length-n.length)),t.messageFormat===l.MessageFormat.both||t.messageFormat===l.MessageFormat.bundle){var r=function(e){for(var n,r=a.dirname(e);n=a.join(r,"nls.metadata.header.json"),!s.existsSync(n);){var o=a.dirname(r);if(o===r){n=void 0;break}r=o}return n}(e);if(r){var i=a.dirname(r),c=o[i];if(void 0===c)try{var g=JSON.parse(s.readFileSync(r,"utf8"));try{var m=v(g,i);c=f(i,m?{header:g,nlsBundle:m}:null)}catch(e){console.error("Failed to load nls bundle",e),c=f(i,null)}}catch(e){console.error("Failed to read header file",e),c=f(i,null)}if(c){var p=e.substr(i.length+1).replace(/\\/g,"/"),S=c.nlsBundle[p];return void 0===S?(console.error("Messages for file ".concat(e," not found. See console for details.")),function(){return"Messages not found."}):d(S)}}}if(t.messageFormat===l.MessageFormat.both||t.messageFormat===l.MessageFormat.file)try{var h=u(function(e){var n;if(t.cacheLanguageResolution&&n)n=n;else{if(l.isPseudo||!t.language)n=".nls.json";else for(var r=t.language;r;){var o=".nls."+r+".json";if(s.existsSync(e+o)){n=o;break}var a=r.lastIndexOf("-");a>0?r=r.substring(0,a):(n=".nls.json",r=null)}t.cacheLanguageResolution&&(n=n)}return e+n}(e));return Array.isArray(h)?d(h):(0,l.isDefined)(h.messages)&&(0,l.isDefined)(h.keys)?d(h.messages):(console.error("String bundle '".concat(e,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file ".concat(e)),function(){return"Failed to load message bundle. See console for details."}}function p(e){return e&&((0,l.isString)(e.locale)&&(t.locale=e.locale.toLowerCase(),t.language=t.locale,o=Object.create(null)),void 0!==e.messageFormat&&(t.messageFormat=e.messageFormat),e.bundleFormat===l.BundleFormat.standalone&&!0===t.languagePackSupport&&(t.languagePackSupport=!1)),(0,l.setPseudo)("pseudo"===t.locale),m}Object.defineProperty(n,"MessageFormat",{enumerable:!0,get:function(){return c.MessageFormat}}),Object.defineProperty(n,"BundleFormat",{enumerable:!0,get:function(){return c.BundleFormat}}),function(){if(t={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:l.MessageFormat.bundle},(0,l.isString)(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),n=void 0;if(e.availableLanguages){var r=e.availableLanguages["*"];(0,l.isString)(r)&&(n=r)}if((0,l.isString)(e.locale)&&(t.locale=e.locale.toLowerCase()),void 0===n?t.language=t.locale:"en"!==n&&(t.language=n),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(t.languagePackSupport=e._languagePackSupport),(0,l.isString)(e._cacheRoot)&&(t.cacheRoot=e._cacheRoot),(0,l.isString)(e._languagePackId)&&(t.languagePackId=e._languagePackId),(0,l.isString)(e._translationsConfigFile)){t.translationsConfigFile=e._translationsConfigFile;try{t.translationsConfig=u(t.translationsConfigFile)}catch(n){if(e._corruptedFile){var i=a.dirname(e._corruptedFile);s.exists(i,(function(n){n&&s.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}(0,l.setPseudo)("pseudo"===t.locale),o=Object.create(null)}(),n.loadMessageBundle=m,n.config=p,i.default.install(Object.freeze({loadMessageBundle:m,config:p}))},6675:(e,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IPCClient=void 0;const o=r(8605);n.IPCClient=class{constructor(e){this.handlerName=e;const n=process.env.VSCODE_GIT_IPC_HANDLE;if(!n)throw new Error("Missing VSCODE_GIT_IPC_HANDLE");this.ipcHandlePath=n}call(e){const n={socketPath:this.ipcHandlePath,path:`/${this.handlerName}`,method:"POST"};return new Promise(((r,t)=>{const a=o.request(n,(e=>{if(200!==e.statusCode)return t(new Error(`Bad status code: ${e.statusCode}`));const n=[];e.on("data",(e=>n.push(e))),e.on("end",(()=>r(JSON.parse(Buffer.concat(n).toString("utf8")))))}));a.on("error",(e=>t(e))),a.write(JSON.stringify(e)),a.end()}))}}},5747:e=>{e.exports=require("fs")},8605:e=>{e.exports=require("http")},5622:e=>{e.exports=require("path")}},n={};function r(o){var t=n[o];if(void 0!==t)return t.exports;var a=n[o]={exports:{}};return e[o](a,a.exports,r),a.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0});const n=r(5747),t=r(8472),a=r(6675),s=t.loadMessageBundle(r(5622).join(__dirname,"askpass-main.ts"));function i(e){console.error(s(0,null)),console.error(e),process.exit(1)}!function(e){if(5!==e.length)return i("Wrong number of arguments");if(!process.env.VSCODE_GIT_ASKPASS_PIPE)return i("Missing pipe");if("fetch"===process.env.VSCODE_GIT_COMMAND&&process.env.VSCODE_GIT_FETCH_SILENT)return i("Skip silent fetch commands");const r=process.env.VSCODE_GIT_ASKPASS_PIPE,o=e[2],t=e[4].replace(/^["']+|["':]+$/g,"");new a.IPCClient("askpass").call({request:o,host:t}).then((e=>{n.writeFileSync(r,e+"\n"),setTimeout((()=>process.exit(0)),0)})).catch((e=>i(e)))}(process.argv)})();var t=exports;for(var a in o)t[a]=o[a];o.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/74b1f979648cc44d385a2286793c226e611f59e7/extensions/git/dist/askpass-main.js.map